<html>
<head>

<style>

html {
  background-color: #eee;
  font-family: Roboto;
}

body {
  background-color: white;
  margin: 20px;
  padding: 10px;
}

h1 {
  color: #65a1da;
}

#team {
  list-style-type: none;
}

.avatar {
  display: inline-block;
  margin: 10px;
  vertical-align: middle;
  width: 75px;
}

.name {
  display: inline-block;
}

.ghid {
  display: inline-block;
  vertical-align: middle;
  width: 20ex;
}

</style>

</head>

<body onload="listTeam()">

<h1>Global Health Data Science Initiative</h1>

<ul id="team"></ul>

</body>

<script>

const TEAM_MEMBERS = {
  'allysonjp715': 'Allyson Pemberton',
  'attwad': 'Timothé Faudot',
  'axmb': 'Alex Benjamin',
  'iamleeg': 'Graham Lee',
  'katelynnobrien': 'Katelynn O\'Brien',
  'khmoran': 'Kelly Moran',
  'leslieleland': 'Leslie Leland',
  'lmanul': 'Manu Cornet',
  'mougk': 'Moritz Krämer',
  'rasmi': 'Rasmi Elasmar',
  'scarpino': 'Sam Scarpino',
  'sratcliffe118': 'Stephen Ratcliffe',
  'tbrewer-healthmap': 'Thomas Brewer'
};


function listTeam() {
  let el = document.getElementById('team');

  for (let id in TEAM_MEMBERS) {
    const name = TEAM_MEMBERS[id];
    let item = document.createElement('li');
    item.innerHTML = '<img class="avatar" src="team/img/' + id + '.jpg" />' +
	      '<span class="ghid">@' + id + '</span> ' +
        '<span class="name">' + name + '</span>';
    item.onclick = selectText;
    el.appendChild(item);
  }
}

function selectText(e) {
  let node = e.target;
  while (node.tagName.toLowerCase() != 'li') {
    node = node.parentNode;
  }
  node = node.getElementsByClassName('ghid')[0];
  if (document.body.createTextRange) {
      const range = document.body.createTextRange();
      range.moveToElementText(node);
      range.select();
  } else if (window.getSelection) {
      const selection = window.getSelection();
      const range = document.createRange();
      range.selectNodeContents(node);
      selection.removeAllRanges();
      selection.addRange(range);
  } else {
      console.warn("Could not select text in node: Unsupported browser.");
      return;
  }
  document.execCommand('copy');
}

</script>

